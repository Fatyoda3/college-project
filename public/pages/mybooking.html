<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Hotel Bookings</title>
		<link
			rel="stylesheet"
			href="../styles/main.css" />
		<link
			rel="stylesheet"
			href="../styles/mybooking.css" />
		<link
			href="https://fonts.googleapis.com/icon?family=Material+Icons"
			rel="stylesheet" />
	</head>

	<body>
		<!-- Navbar -->
		<div class="navbar">
			<ul class="navbar-links">
				<li><a href="../index.html">Hotel Avenue</a></li>
				<li><a href="aboutus.html">About</a></li>
				<li><a href="contact.html">Contact</a></li>
			</ul>
		</div>
		<button
			class="sidebar-toggle"
			onclick="toggleSidebar()">
			<span class="material-icons">menu</span>
		</button>

		<div
			class="sidebar"
			id="sidebar">
			<ul class="sidebar-links">
				<li><a href="viewhotels.html">View Hotels</a></li>
				<li><a href="mybooking.html">My Bookings</a></li>
			</ul>
		</div>

		<div
			class="content"
			id="content">
			<section class="main-content">
				<h2>Your Bookings</h2>
				<table class="booking-table"></table>
			</section>
		</div>

		<script src="../scripts/dashboard.js"></script>
		<script>
			const table = document.querySelector('.booking-table');
			!table.hasChildNodes()
				? (table.innerHTML = '<h3>no bookings found</h1>')
				: null;

			function cancelBooking(bookingId) {
				// Confirm cancellation
				if (
					confirm(
						'Are you sure you want to cancel booking ' +
							bookingId +
							'?',
					)
				) {
					// Simulate updating booking status to 'Canceled' and disabling the button
					let bookingRows = document.querySelectorAll('tbody tr');

					bookingRows.forEach((row) => {
						if (row.cells[0].textContent === bookingId) {
							row.cells[6].textContent = 'Canceled'; // Update status to 'Canceled'
							row.querySelector('button').disabled = true; // Disable the cancel button
						}
					});
				}
			}
		</script>
	</body>
</html>
